FROM python:3.6-alpine

RUN mkdir -p /home

WORKDIR /mongo

# Copying over necessary files
COPY mongo ./mongo

COPY requirements.txt ./requirements.txt
COPY settings.py ./settings.py
COPY leader.py ./app.py

RUN python -m pip install pip
# Installing packages
RUN pip install -r ./requirements.txt

# Entrypoint
CMD ["python", "./initialise.py" ]